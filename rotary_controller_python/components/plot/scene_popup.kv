#: import Scene components.plot.scene
#: import Grid components.plot.grid
#: import PlotToolbar components.plot.plot_toolbar


<ScenePopup>:
    title: "Plot View"
    size_hint: 1, 1
    auto_dismiss: False
    background_color: 0,0,0,1
    scroll_view: scroll_view
    scene_canvas: scene_canvas

    FloatLayout:
        BoxLayout:
            orientation: "horizontal"
            pos: root.pos
            size: root.size
            PlotToolbar:
                popup_instance: root

            ScrollView:
                id: scroll_view
                scroll_x: 0.5
                scroll_y: 0.5
                scroll_wheel_distance: 0
                RelativeLayout:
                    size_hint: None, None
                    size: 10000, 10000
                    Grid:
                        zoom: root.zoom

                    Scene:
                        id: scene_canvas
                        zoom: root.zoom
                        points: root.circle_pattern.points

        BoxLayout:
            orientation: 'vertical'
            pos: root.scroll_view.pos
            size: root.scroll_view.size

            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: "{:0.2f} %".format(root.zoom * 100)
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: "Pointer"
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: 'X: {:0.3f}'.format(root.mouse_position[0])
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: 'Y: {:0.3f}'.format(root.mouse_position[1])
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: "Tool"
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: 'X: {:0.3f}'.format(root.mouse_position[0])
            Label:
                size_hint_y: None
                height: 24
                halign: "left"
                valign: "middle"
                font_name: "fonts/iosevka-regular.ttf"
                text_size: self.size
                text: 'Y: {:0.3f}'.format(root.mouse_position[1])
            Widget:
                size_hint_y: 1
